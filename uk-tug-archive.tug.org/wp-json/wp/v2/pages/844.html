{"id":844,"date":"2018-04-08T15:21:35","date_gmt":"2018-04-08T14:21:35","guid":{"rendered":"http:\/\/uk-tug-archive.tug.org\/?page_id=844"},"modified":"2018-04-27T17:38:43","modified_gmt":"2018-04-27T16:38:43","slug":"texlive-on-raspberry-pi","status":"publish","type":"page","link":"http:\/\/uk-tug-archive.tug.org\/texlive\/texlive-on-raspberry-pi\/","title":{"rendered":"TeX Live on Raspberry Pi"},"content":{"rendered":"<h1>Introduction\/special considerations<\/h1>\n<p>Raspberry Pi is a good platform for TeX: light-weight by modern standards. Typically use just a text editor (maybe IDE), TeX complier and a PDF viewer.<\/p>\n<h2>TeX Live choices<\/h2>\n<p>You may use the distribution&#8217;s TeX Live packages (available via apt-get, aptitude, &#8230;). This is an easy install, but you will be limited to the distro&#8217;s update cycle. Raspbian is a Debian which runs TeX a few years behind.<\/p>\n<p>The alternative is to use the TeX Live DVD or other routes. Slightly more harder to install but you get an updated TeX installation. As a UKTUG, or similar user-group, member you most likely have a DVD as part of your membership.<\/p>\n<h2>Special considerations<\/h2>\n<p>A Raspberry Pi has some specific issues in that it has fairly small storage and it&#8217;s mostly flash. Flash wears fairly quickly if it gets written too much.<\/p>\n<h3>Flash<\/h3>\n<p>Flash will typically last of the order of 10^5 writes. The effective life is dependent on which model of SD card you have, percentage use, and the quality of its wear levelling.<\/p>\n<p>In order to reduce SD wear some installations have \/tmp in RAM, using tmpfs. A Raspbian installation may have \/tmp on the SD card, but some sources suggest that \/tmp gets moved to tmpfs. Typically 5 or 20MB.<\/p>\n<p>This stops the most regularly written files from wearing the SD card unnecessarily. But the downside is that \/tmp is relatively small\/finite size.<\/p>\n<h3>\/tmp in tmpfs<\/h3>\n<p>For most applications, including TeX, an size\/inode limit isn&#8217;t normally a problem. But for build and install then some thought is needed.<\/p>\n<p>I will just cover install here. Build is more complex, but most people won&#8217;t ever need to know.<\/p>\n<p>The installer\/tlmgr uses \/tmp to untar packages, some of which can be quite big. Their distribution in the archive is effectively random. If you are lucky with your installation choices then only small packages get untarred, so you won&#8217;t hit the limit. But just one slightly large tar file and the whole install fails.<\/p>\n<p>So you may need a bigger temporary directory, and some other things too.<\/p>\n<h1>Installation<\/h1>\n<p>Install needs access to the DVD contents (or other repository) and a mountable read-write volume that allows for a big temporary directory. Best that it be magnetic and not flash.<\/p>\n<p>You can use a USB HDD or possibly mount your PC&#8217;s HDD over your LAN via sshfs or NFS. Net-mount could take the least additional hardware, but can be slow.<\/p>\n<p>The preferred solution is to use a USB HDD.<\/p>\n<p>If you have a USB DVD reader, then you can plug it directly to your Pi. Or copy the DVD to a USB stick.<\/p>\n<h3>Remember to set TMPDIR:<\/h3>\n<p>Once mounted, you must tell the installer\/tlmgr to use your bigger temporary directory. Using the environmental variable &#8220;TMPDIR&#8221; you point there. Something of the form of: &#8220;<code>export TMPDIR=\"\/media\/wibble\/tmp\"<\/code>&#8220;.<\/p>\n<p>If you are happy with a \/tmp in your SD card (or wherever), then no need to set a new temporary directory\/TMPDIR.<\/p>\n<h2>Decide on your mountable volumes<\/h2>\n<p>Primarily a choice of: LAN mount or USB HDD:<\/p>\n<h3>LAN mount<\/h3>\n<p>Via sshfs or NFS you need to mount the DVD and a separate temp dir. Documentation for these share methods is elsewhere.<\/p>\n<p>The advantage is that it takes the least hardware and can be done remotely. It allows for parallel installs onto multiple RPis; should you desire. But the downside is that it can be slow, especially since most RPi&#8217;s ethernet is only 100T. Wifi even slower.<\/p>\n<p>Typically you will do two separate shares: the DVD and the temp dir. The DVD can be mounted with export entries like: <code>\/media\/cdrom<\/code> and probably something like <code>\/working\/tmp<\/code> for the temporary.<\/p>\n<p>Generally not a good idea to mount your PC&#8217;s own \/tmp, so make your share&#8217;s temp dir either in your own home or in another more generally shareable directory.<\/p>\n<p>Maybe you want a network swap; goes rather slowly but you can be assured that nothing&#8217;s writing to your SD card unnecessarily.<\/p>\n<p>Typically your LAN mounts would look like:<\/p>\n<table>\n<tbody>\n<tr>\n<td><code>\/mnt\/wibble\/cdrom<\/code><\/td>\n<td>the DVD contents<\/td>\n<\/tr>\n<tr>\n<td><code>\/mnt\/wibble\/tmp<\/code><\/td>\n<td>temporary dir<\/td>\n<\/tr>\n<tr>\n<td><code>\/mnt\/wibble\/swapfile<\/code><\/td>\n<td>your new swapfile<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>See below the caution about interruptible swapfiles.<\/p>\n<h3>USB HDD<\/h3>\n<p>You might want a separate DVD drive, but less hardware is to copy its contents to your external HDD. If you have something like a WD PiDrive then this is nearly permanently mounted to the RPi. But you might be using a more portable one.<\/p>\n<ol>\n<li>Copy the TeX Live DVD to a reasonable directory (or\u00a0 use USB DVD).<\/li>\n<li>Make a temporary directory<\/li>\n<li>Maybe make a big swapfile<\/li>\n<\/ol>\n<p>So your HDD looks like:<\/p>\n<table>\n<tbody>\n<tr>\n<td><code>\/work\/texlive\/2018<\/code><\/td>\n<td>the DVD contents (or whatever year)<\/td>\n<\/tr>\n<tr>\n<td><code>\/work\/texlive\/tmp<\/code><\/td>\n<td>temporary dir<\/td>\n<\/tr>\n<tr>\n<td><code>\/work\/texlive\/swapfile<\/code><\/td>\n<td>your new swapfile<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>If you are using your own bigger swapfile then read the documentation on swapon\/swapoff to ensure it gets used. You should ensure the USB connectors can&#8217;t be disturbed, else your RPi will probably hang\/crash.<\/p>\n<h2>Controlling your package manger\/stock TeX Live<\/h2>\n<p>Most Linuxes have Tex Live already available as packages within the distribution. For example: whichever Raspbian you are using. This will be an older version of Tex Live than is on this year&#8217;s DVD\/repository; so you want to suppress it: a) so you don&#8217;t run the wrong binary\/script b) saves space.<\/p>\n<p>You should ensure that the stock TeX LIve packages aren&#8217;t installed when you install the DVD. Then you suppress the package manager from installing them in the future.<\/p>\n<p>The instructions for this are maintained on the TeX Live Debian pages (<a href="http://uk-tug-archive.tug.org/wp-json/wp/v2/pages/\&quot;https:\/\/www.tug.org\/texlive\/debian.html\&quot;">https:\/\/www.tug.org\/texlive\/debian.html<\/a>).<\/p>\n<h1>Build<\/h1>\n<p>The TeX Live DVD binaries are built for an ARMv6 chip, as found in a RPi v1. They will run on any variant of Pi; whether 1, 2 or 3, &#8230; (these can have ARMv7 and later) . So good for most people.<\/p>\n<p>On more advanced RPis, with later chips, then possibly a native build would run more efficiently. Should you wish to do so then another page on building might get written in the future.<\/p>\n<h1>Conclusion<\/h1>\n<p>Once setup TeX works nicely on a RPi.<\/p>\n<h3>Thanks<\/h3>\n<p>Thanks to UKTUG for funding the Raspberry Pi TeX Live build project.<\/p>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Introduction\/special considerations Raspberry Pi is a good platform for TeX: light-weight by modern standards. Typically use just a text editor (maybe IDE), TeX complier and a PDF viewer. TeX Live choices You may use the distribution&#8217;s TeX Live packages (available via apt-get, aptitude, &#8230;). This is an easy install, but you will be limited to the distro&#8217;s update cycle. Raspbian is a Debian which runs TeX a few years behind.&hellip; <\/p>\n","protected":false},"author":4,"featured_media":0,"parent":831,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"spay_email":""},"jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/PpaXB-dC","jetpack-related-posts":[{"id":831,"url":"http:\/\/uk-tug-archive.tug.org\/texlive\/","url_meta":{"origin":844,"position":0},"title":"TeX Live","date":"16th February 2018","format":false,"excerpt":"TeX Live is a widely used TeX distribution. It is published annually, and is available by both download and on DVD. If you'd like a free copy of TeX Live, and live in the UK, please email\u00a0uktug-committee@uk-tug-archive.tug.org. Visit\u00a0http:\/\/tug.org\/texlive\/ for more information about TeX Live. If you plan to install TeX\u2026","rel":"","context":"Similar post","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":61,"url":"http:\/\/uk-tug-archive.tug.org\/membership\/","url_meta":{"origin":844,"position":1},"title":"Membership","date":"15th December 2008","format":false,"excerpt":"Joining UK-TUG is the TeX user's group for the UK. We support TeX use generally, but with a focus on UK-specific support, for example running training courses and our annual speaker meeting. We also run a mailing list for TeX-related information which all members are automatically added to. Membership of\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":131,"url":"http:\/\/uk-tug-archive.tug.org\/training\/","url_meta":{"origin":844,"position":2},"title":"Training","date":"17th December 2008","format":false,"excerpt":"Training new users in using (La)TeX is vital for the continued health of the TeX community. Within the UK, there are several people who provide such training, with varying degrees of formality. To enable potential users to find training, and to help trainers interact with each other, we are collecting\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":59,"url":"http:\/\/uk-tug-archive.tug.org\/about\/","url_meta":{"origin":844,"position":3},"title":"About","date":"15th December 2008","format":false,"excerpt":"The UK TeX Users Group (UK-TUG) is a volunteer society of TeX users that develops and promotes the use of TeX and related software in the United Kingdom. Its affairs are managed by a committee (uktug-committee@tug.org) whose present membership is Jay Hammond (Chair) Jonathan Webley (Treasurer) Joseph Wright (Secretary) Simon\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":434,"url":"http:\/\/uk-tug-archive.tug.org\/about\/funding\/","url_meta":{"origin":844,"position":4},"title":"Funding","date":"13th November 2009","format":false,"excerpt":"UK-TUG has funds available for supporting TeX-related projects. We invite submission of applications for support of projects. Project applications will be considered by the Committee, who will consider benefit to the TeX community both in the UK and more widely. Example projects could include: software projects, projects aimed at providing\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":133,"url":"http:\/\/uk-tug-archive.tug.org\/training\/uk-training-links\/","url_meta":{"origin":844,"position":5},"title":"UK Online Training Links","date":"17th December 2008","format":false,"excerpt":"Specific training links for university TeX and LaTeX related material in the UK: Cambridge: Text Processing Using LaTeX Durham: TeX and LaTeX at Durham Imperial: An Introduction to LaTeX Oxford: LaTeX FAQ Surrey: Introduction to LaTeX UEA: Nicola Talbot's LaTeX Related Information Generally useful sources of (La)TeX information and advice:\u2026","rel":"","context":"In &quot;General&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]}],"_links":{"self":[{"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/pages\/844"}],"collection":[{"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/comments?post=844"}],"version-history":[{"count":13,"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/pages\/844\/revisions"}],"predecessor-version":[{"id":849,"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/pages\/844\/revisions\/849"}],"up":[{"embeddable":true,"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/pages\/831"}],"wp:attachment":[{"href":"http:\/\/uk-tug-archive.tug.org\/wp-json\/wp\/v2\/media?parent=844"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}